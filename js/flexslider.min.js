function flexsliderLoaded(){window.dispatchEvent(new Event("resize")),flexsliderMaybeResizeCurrentImage(),document.querySelectorAll("#slider .invp-image").forEach(i=>i.addEventListener("click",flexsliderPopOut))}function flexsliderMaybeResizeCurrentImage(){var el=document.querySelector("#slider.flexslider .flex-active-slide img");if(void 0!==el){var slider;if(document.querySelector("#slider.flexslider").clientWidth>el.width&&el.srcset){el.style.height="";var pieces=el.srcset.split(" ");if(1<pieces.length){var fullWidth=pieces[1].substring(0,pieces[1].length-2);fullWidth>el.width&&(el.style.width=fullWidth,el.style.maxWidth="100%",el.removeAttribute("height"))}}0!==el.height&&(document.querySelectorAll(".flexslider:not(#carousel) .flex-direction-nav a").forEach(a=>a.style.lineHeight=el.height+"px"),document.querySelector(".flexslider:not(#carousel) .flex-viewport").height=el.height+"px")}}function flexsliderNavigateToImage(evt){location.href=evt.target.parentNode.dataset.href}function flexsliderPopOut(){var activeSlide=document.querySelector("#slider .flex-active-slide img"),largestWidth=getLargestWidthFromSrcset(activeSlide);if(activeSlide.clientWidth===largestWidth||.85<activeSlide.clientWidth/document.documentElement.clientWidth)location.href=document.querySelector("#slider .flex-active-slide a").dataset.href;else{var container=document.querySelector(".vehicle-images");void 0===window.invp.flexsliderPreviousProps&&(window.invp.flexsliderPreviousProps={}),window.invp.flexsliderPreviousProps.position=container.style.position,window.invp.flexsliderPreviousProps.zIndex=container.style.zIndex,window.invp.flexsliderPreviousProps.width=container.style.width,window.invp.flexsliderPreviousProps.top=container.style.top,window.invp.flexsliderPreviousProps.left=container.style.left,window.invp.flexsliderPreviousProps.paddingLeft=container.style.paddingLeft,container.style.position="fixed",container.style.paddingLeft="0",container.style.zIndex="100000",container.style.width=largestWidth.toString()+"px",document.querySelectorAll("#slider,#slider-width,#slider .slides li,#slider .flex-active-slide").forEach(l=>l.style.width=largestWidth.toString()+"px"),container.style.left=((document.documentElement.clientWidth-container.clientWidth)/2).toString()+"px",window.invp.resizeObserver=new ResizeObserver(entries=>{document.querySelector(".vehicle-images").style.top=((document.documentElement.clientHeight-entries[0].target.clientHeight)/2).toString()+"px"}),window.invp.resizeObserver.observe(document.getElementById("slider")),window.dispatchEvent(new Event("resize"));var overlay=document.createElement("div");overlay.classList.add("flexsliderPopOut"),overlay.style.position="fixed",overlay.style.top=overlay.style.left="0",overlay.style.width=overlay.style.height=overlay.style.right="100%",overlay.style.backgroundColor="rgba( 0, 0, 0, .8 )",overlay.style.zIndex="99999",overlay.addEventListener("click",flexsliderPopIn),document.body.append(overlay),document.querySelectorAll("#slider .invp-image").forEach(i=>{i.removeEventListener("click",flexsliderPopOut),i.addEventListener("click",flexsliderNavigateToImage)}),document.querySelector("#carousel .slides").style.transform="translate3d(0px, 0px, 0px)"}}function flexsliderPopIn(){var container=document.querySelector(".vehicle-images");"undefined"!==window.invp.flexsliderPreviousProps&&(container.style.position=window.invp.flexsliderPreviousProps.position,container.style.zIndex=window.invp.flexsliderPreviousProps.zIndex,container.style.width=window.invp.flexsliderPreviousProps.width,container.style.top=window.invp.flexsliderPreviousProps.top,container.style.left=window.invp.flexsliderPreviousProps.left,container.style.paddingLeft=window.invp.flexsliderPreviousProps.paddingLeft),document.querySelectorAll("#slider,#slider-width,#slider .slides li,#slider .flex-active-slide").forEach(l=>l.style.width=null),window.dispatchEvent(new Event("resize")),document.querySelectorAll(".flexsliderPopOut").forEach(el=>el.remove()),document.querySelector(".flexslider:not(#carousel) .flex-viewport").style.height="auto",document.querySelectorAll("#slider .invp-image").forEach(i=>{i.removeEventListener("click",flexsliderNavigateToImage),i.addEventListener("click",flexsliderPopOut)}),window.invp.resizeObserver.disconnect()}function flexsliderStylePreviousNext(){var navLinks=document.querySelectorAll(".flexslider .flex-direction-nav a");navLinks.length&&navLinks.forEach(l=>{var firstImage=l.parentNode.parentNode.parentNode.querySelector(".slides li:first-child img");if(firstImage){var h=firstImage.style.height;""===h&&(h=firstImage.clientHeight+"px"),"0px"!==h&&(l.style.lineHeight=""!==h?h:"112.5px")}})}function getLargestWidthFromSrcset(element){return element?element.getAttribute("srcset")?element.getAttribute("srcset").split(",").reduce((acc,item)=>{let[url,width]=item.trim().split(" ");return width=parseInt(width),width>acc.width?{width:width,url:url}:acc},{width:0,url:""}).width:element.getAttribute("width"):2048}window.addEventListener("resize",(function(){setTimeout((function(){flexsliderMaybeResizeCurrentImage(),flexsliderStylePreviousNext()}),120)})),window.addEventListener("load",(function(){jQuery(".flexslider").not("#carousel").flexslider({animation:"slide",animationSpeed:invp.is_singular?200:300,slideshowSpeed:3500,controlNav:!1,prevText:"",nextText:"",slideshow:!invp.is_singular,smoothHeight:!0,after:function(slider){flexsliderMaybeResizeCurrentImage()},start:function(slider){var img=document.querySelector(".flex-active-slide img");img.complete?flexsliderLoaded():img.addEventListener("load",flexsliderLoaded)}}),jQuery("#carousel").flexslider({animation:"slide",controlNav:!1,slideshow:!1,smoothHeight:!0,itemWidth:150,asNavFor:"#slider",prevText:"",nextText:"",start:function(slider){flexsliderStylePreviousNext()}}),window.invp.resizeObserver=new ResizeObserver(entries=>{window.dispatchEvent(new Event("resize"))}),window.invp.resizeObserver.observe(document.querySelector(".flex-active-slide img"))}));