function flexsliderMaybeShrinkFrame(){document.querySelector("#slider").clientWidth>document.querySelector("#slider.flexslider .flex-active-slide img").clientWidth&&(document.querySelector("#slider.flexslider").style.width=document.querySelector("#carousel.flexslider").style.width=document.querySelector("#slider.flexslider .flex-active-slide img").clientWidth+"px"),window.removeEventListener("afterDelayedResize",flexsliderMaybeShrinkFrame)}function flexsliderLoaded(){flexsliderMaybeShrinkFrame(),window.dispatchEvent(new Event("resize")),flexsliderMaybeResizeCurrentImage(),document.querySelectorAll("#slider .invp-image").forEach((e=>e.addEventListener("click",flexsliderPopOut)))}function flexsliderMaybeResizeCurrentImage(){var e=document.querySelector("#slider.flexslider .flex-active-slide img");if(void 0!==e){if(document.querySelector("#slider.flexslider").clientWidth>e.width&&e.srcset){e.style.height="";var i=getLargestWidthFromSrcset(e);i>e.width&&(e.style.width=i,e.style.maxWidth="100%",e.removeAttribute("height"))}0!==e.height&&(document.querySelectorAll(".flexslider:not(#carousel) .flex-direction-nav a").forEach((i=>i.style.lineHeight=e.height+"px")),document.querySelector(".flexslider:not(#carousel) .flex-viewport").height=e.height+"px",document.querySelector("#carousel.flexslider .flex-viewport").style.height="auto")}}function flexsliderNavigateToImage(e){location.href=e.target.parentNode.dataset.href}function flexsliderPopOut(){var e=document.querySelector("#slider .flex-active-slide img"),i=getLargestWidthFromSrcset(e);if(e.clientWidth>=i||.85<e.clientWidth/document.documentElement.clientWidth)location.href=document.querySelector("#slider .flex-active-slide a").dataset.href;else{var t=document.querySelector(".vehicle-images");void 0===window.invp.flexsliderPreviousProps&&(window.invp.flexsliderPreviousProps={}),window.invp.flexsliderPreviousProps.position=t.style.position,window.invp.flexsliderPreviousProps.paddingLeft=t.style.paddingLeft,window.invp.flexsliderPreviousProps.zIndex=t.style.zIndex,window.invp.flexsliderPreviousProps.width=t.style.width,window.invp.flexsliderPreviousProps.top=t.style.top,window.invp.flexsliderPreviousProps.left=t.style.left,window.invp.flexsliderPreviousProps.sizes=e.sizes,t.style.position="fixed",t.style.paddingLeft="0",t.style.zIndex="100000",t.style.width=i.toString()+"px",document.querySelectorAll("#slider,#slider-width,#slider .slides li,#slider .flex-active-slide, #carousel").forEach((e=>{e.style.width=i.toString()+"px"})),t.style.left=((document.documentElement.clientWidth-t.clientWidth)/2).toString()+"px",window.invp.resizeObserver=new ResizeObserver((e=>{document.querySelector(".vehicle-images").style.top=((document.documentElement.clientHeight-e[0].target.clientHeight)/2).toString()+"px"})),window.invp.resizeObserver.observe(document.getElementById("slider")),window.addEventListener("afterDelayedResize",(function e(t){document.querySelectorAll("#slider .slides li img").forEach((e=>{if(void 0!==e.sizes){var t=e.sizes.split(/[ px]/)[2];e.setAttribute("sizes",e.sizes.replaceAll(t,i))}})),window.removeEventListener("afterDelayedResize",e)})),window.dispatchEvent(new Event("resize"));var l=document.createElement("div");l.classList.add("flexsliderPopOut"),l.style.position="fixed",l.style.top=l.style.left="0",l.style.width=l.style.height=l.style.right="100%",l.style.backgroundColor="rgba( 0, 0, 0, .8 )",l.style.zIndex="99999",l.addEventListener("click",flexsliderPopIn),document.body.append(l),document.querySelectorAll("#slider .invp-image").forEach((e=>{e.removeEventListener("click",flexsliderPopOut),e.addEventListener("click",flexsliderNavigateToImage)})),document.querySelector("#carousel .slides").style.transform="translate3d(0px, 0px, 0px)"}}function flexsliderPopIn(){var e=document.querySelector(".vehicle-images");"undefined"!==window.invp.flexsliderPreviousProps&&(e.style.position=window.invp.flexsliderPreviousProps.position,e.style.zIndex=window.invp.flexsliderPreviousProps.zIndex,e.style.width=window.invp.flexsliderPreviousProps.width,e.style.top=window.invp.flexsliderPreviousProps.top,e.style.left=window.invp.flexsliderPreviousProps.left,e.style.paddingLeft=window.invp.flexsliderPreviousProps.paddingLeft,document.querySelectorAll("#slider .slides li img").forEach((e=>{void 0!==e.sizes&&e.setAttribute("sizes",window.invp.flexsliderPreviousProps.sizes)}))),document.querySelectorAll("#slider,#slider-width,#slider .slides li,#slider .flex-active-slide").forEach((e=>e.style.width=null)),window.addEventListener("afterDelayedResize",flexsliderMaybeShrinkFrame),window.dispatchEvent(new Event("resize")),document.querySelectorAll(".flexsliderPopOut").forEach((e=>e.remove())),document.querySelector(".flexslider:not(#carousel) .flex-viewport").style.height="auto",document.querySelectorAll("#slider .invp-image").forEach((e=>{e.removeEventListener("click",flexsliderNavigateToImage),e.addEventListener("click",flexsliderPopOut)})),window.invp.resizeObserver.disconnect()}function flexsliderStylePreviousNext(){var e=document.querySelectorAll(".flexslider .flex-direction-nav a");e.length&&e.forEach((e=>{var i=e.parentNode.parentNode.parentNode.querySelector(".slides li:first-child img");if(i){var t=i.style.height;""===t&&(t=i.clientHeight+"px"),"0px"!==t&&(e.style.lineHeight=""!==t?t:"112.5px")}}))}function getLargestWidthFromSrcset(e){return e?e.getAttribute("srcset")?e.getAttribute("srcset").split(",").reduce(((e,i)=>{let[t,l]=i.trim().split(" ");return l=parseInt(l),l>e.width?{width:l,url:t}:e}),{width:0,url:""}).width:e.getAttribute("width"):2048}window.addEventListener("resize",(function(){setTimeout((function(){flexsliderMaybeResizeCurrentImage(),flexsliderStylePreviousNext(),window.dispatchEvent(new Event("afterDelayedResize"))}),120)})),window.addEventListener("load",(function(){jQuery(".flexslider").not("#carousel").flexslider({animation:"slide",animationSpeed:invp.is_singular?200:300,slideshowSpeed:3500,controlNav:!1,prevText:"",nextText:"",slideshow:!invp.is_singular,smoothHeight:!0,after:function(e){flexsliderMaybeResizeCurrentImage()},start:function(e){var i=document.querySelector("#slider .flex-active-slide img");i.complete?flexsliderLoaded():i.addEventListener("load",flexsliderLoaded)}}),jQuery("#carousel").flexslider({animation:"slide",controlNav:!1,slideshow:!1,smoothHeight:!0,itemWidth:150,asNavFor:"#slider",prevText:"",nextText:"",start:function(e){flexsliderStylePreviousNext()}}),window.invp.resizeObserver=new ResizeObserver((e=>{window.dispatchEvent(new Event("resize"))})),window.invp.resizeObserver.observe(document.querySelector(".flex-active-slide img"))}));