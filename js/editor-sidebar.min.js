!function(wp){var registerPlugin=wp.plugins.registerPlugin,PluginSidebar=wp.editPost.PluginSidebar,el=wp.element.createElement,Text=wp.components.TextControl,Select=wp.components.SelectControl,Checkbox=wp.components.CheckboxControl,withSelect=wp.data.withSelect,withDispatch=wp.data.withDispatch,compose=wp.compose.compose,metaPrefix="inventory_presser_";function getLabel(meta_key){if(metaPrefix!==meta_key.substr(0,metaPrefix.length))return meta_key;var key=meta_key.substring(metaPrefix.length);switch(key){case"msrp":case"vin":return key.toUpperCase();case"odometer":return"Odometer ("+invp.miles_word+")";case"youtube":return"YouTube Video ID";default:const pattern=/_/g;return ucwords(key.replace(pattern," ")).replace("Id","ID").replace("Kbb","KBB").replace("Nada","NADA").replace("Url","URL")}}function hullMaterialOptions(){for(var options=[{label:"",value:""}],l=0;l<invp.hull_materials.length;l++)options.push({label:invp.hull_materials[l],value:invp.hull_materials[l].toLowerCase().replace(" ","-")});return options}function paymentFrequencyOptions(){var options=[{label:"",value:""}];for(var label in invp.payment_frequencies)options.push({label:label,value:invp.payment_frequencies[label]});return options}function titleStatusOptions(){for(var options=[{label:"",value:""}],l=0;l<invp.title_statuses.length;l++)options.push({label:invp.title_statuses[l],value:invp.title_statuses[l]});return options}function ucwords(str){return(str+"").split(" ").map(x=>x.charAt(0).toUpperCase()+x.substr(1)).join(" ")}var MetaBlockField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){props.isNumeric&&""===value&&(value="0"),dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Text,{label:getLabel(props.fieldName),value:props.metaFieldValue,id:props.id,onChange:function(content){props.setMetaFieldValue(content)}})})),MetaBlockDigitsField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Text,{label:getLabel(props.fieldName),value:props.metaFieldValue,id:props.id,onChange:function(content){props.setMetaFieldValue(content.replace(/[^0-9]+/g,""))}})})),MetaBlockFieldSelect=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Select,{label:getLabel(props.fieldName),value:props.metaFieldValue,options:props.optionArray,onChange:function(content){props.setMetaFieldValue(content)}})})),MetaBlockCheckboxField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Checkbox,{label:getLabel(props.fieldName),checked:props.metaFieldValue,onChange:function(value){props.setMetaFieldValue(value)}})}));registerPlugin("invp-plugin-sidebar",{render:function(){var fields=el(wp.element.Fragment,{},el("h2",{},"Attributes"),el(MetaBlockField,{fieldName:"inventory_presser_vin",id:"inventory_presser_vin",isNumeric:!1}),el(MetaBlockField,{fieldName:"inventory_presser_stock_number",id:"inventory_presser_stock_number",isNumeric:!1}),el(MetaBlockField,{fieldName:"inventory_presser_trim",id:"inventory_presser_trim"}),el(MetaBlockField,{fieldName:"inventory_presser_engine",id:"inventory_presser_engine",isNumeric:!1}),el(MetaBlockField,{fieldName:"inventory_presser_doors",id:"inventory_presser_doors",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_color",id:"inventory_presser_color",isNumeric:!1}),el(MetaBlockField,{fieldName:"inventory_presser_interior_color",id:"inventory_presser_interior_color",isNumeric:!1}),el(MetaBlockDigitsField,{fieldName:"inventory_presser_odometer",id:"inventory_presser_odometer",isNumeric:!1}),el(MetaBlockFieldSelect,{fieldName:"inventory_presser_title_status",id:"inventory_presser_title_status",isNumeric:!1,optionArray:titleStatusOptions()}),el(MetaBlockField,{fieldName:"inventory_presser_car_id",id:"inventory_presser_car_id",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_dealer_id",id:"inventory_presser_dealer_id",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_leads_id",id:"inventory_presser_leads_id",isNumeric:!0}),el(MetaBlockCheckboxField,{fieldName:"inventory_presser_wholesale",id:"inventory_presser_wholesale",isNumeric:!1}),el("h2",{},"Prices"),el(MetaBlockField,{fieldName:"inventory_presser_price",id:"inventory_presser_price",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_msrp",id:"inventory_presser_msrp",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_down_payment",id:"inventory_presser_down_payment",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_payment",id:"inventory_presser_payment",isNumeric:!0}),el(MetaBlockFieldSelect,{fieldName:"inventory_presser_payment_frequency",id:"inventory_presser_payment_frequency",isNumeric:!1,optionArray:paymentFrequencyOptions()}),el(MetaBlockField,{fieldName:"inventory_presser_book_value_kbb",id:"inventory_presser_book_value_kbb",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_book_value_nada",id:"inventory_presser_book_value_nada",isNumeric:!0}),el("h2",{},"Third Parties"),el(MetaBlockField,{fieldName:"inventory_presser_edmunds_style_id",id:"inventory_presser_edmunds_style_id",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_nextgear_inspection_url",id:"inventory_presser_nextgear_inspection_url",isNumeric:!1}),el(MetaBlockField,{fieldName:"inventory_presser_youtube",id:"inventory_presser_youtube",isNumeric:!1}));const inventory_presser_type=wp.data.select("core/editor").getEditedPostAttribute("meta").inventory_presser_type;return"boat"===inventory_presser_type.toLowerCase()&&(fields=el(wp.element.Fragment,{},fields,el(wp.element.Fragment,{},el("h2",{},"Boat Attributes"),el(MetaBlockField,{fieldName:"inventory_presser_beam",id:"inventory_presser_beam",isNumeric:!0}),el(MetaBlockField,{fieldName:"inventory_presser_length",id:"inventory_presser_length",isNumeric:!0}),el(MetaBlockFieldSelect,{fieldName:"inventory_presser_hull_material",id:"inventory_presser_hull_material",isNumeric:!1,optionArray:hullMaterialOptions()})))),fields=wp.hooks.applyFilters("invp_editor_sidebar_elements",fields,inventory_presser_type),el(PluginSidebar,{name:"invp-plugin-sidebar",icon:"admin-network",title:"Inventory Presser"},el("div",{className:"invp-editor-sidebar"},fields))}})}(window.wp);