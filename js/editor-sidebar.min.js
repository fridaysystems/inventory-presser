function invp_block_editor_hide_taxonomies(typeSlug){for(var taxonomy in invp.taxonomies)!1!==invp.taxonomies[taxonomy].active&&void 0!==invp.taxonomies[taxonomy][typeSlug]&&!1!==invp.taxonomies[taxonomy][typeSlug]||wp.data.dispatch("core/editor").removeEditorPanel("taxonomy-panel-"+taxonomy.replace("-","_"))}wp.api.loadPromise.done((function(){new wp.api.models.Inventory({id:wp.media.view.settings.post.id}).fetch().then((post=>{(new wp.api.collections.Inventory_type).fetch().then((types=>{types.forEach((type=>{-1!==post.inventory_type.indexOf(type.id)&&invp_block_editor_hide_taxonomies(type.slug)}))}))}))})),function(wp){var registerPlugin=wp.plugins.registerPlugin,PluginSidebar=wp.editor.PluginSidebar,el=wp.element.createElement,Text=wp.components.TextControl,Select=wp.components.SelectControl,Checkbox=wp.components.CheckboxControl,withSelect=wp.data.withSelect,withDispatch=wp.data.withDispatch,compose=wp.compose.compose;const{__:__}=wp.i18n;function getLabel(meta_key){if(invp.meta_prefix!==meta_key.substr(0,invp.meta_prefix.length))return meta_key;var str,key=meta_key.substring(invp.meta_prefix.length);switch(key){case"msrp":case"vin":return key.toUpperCase();case"odometer":return invp.odometer_label+" ("+invp.odometer_units+")";case"youtube":return __("YouTube Video ID","inventory-presser");default:const pattern=/_/g;return(str=key.replace(pattern," "),(str+"").split(" ").map((x=>x.charAt(0).toUpperCase()+x.substring(1))).join(" ")).replace("Id","ID").replace("Kbb","KBB").replace("Nada","NADA").replace("Url","URL")}}function hullMaterialOptions(){for(var options=[{label:"",value:""}],l=0;l<invp.hull_materials.length;l++)options.push({label:invp.hull_materials[l],value:invp.hull_materials[l].toLowerCase().replace(" ","-")});return options}function paymentFrequencyOptions(){var options=[{label:"",value:""}];for(var label in invp.payment_frequencies)options.push({label:label,value:invp.payment_frequencies[label]});return options}function titleStatusOptions(){for(var options=[{label:"",value:""}],l=0;l<invp.title_statuses.length;l++)options.push({label:invp.title_statuses[l],value:invp.title_statuses[l]});return options}var MetaBlockField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){props.isNumeric&&""===value&&(value="0"),dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Text,{label:getLabel(props.fieldName),value:props.metaFieldValue,id:props.id,onChange:function(content){props.setMetaFieldValue(content)}})})),MetaBlockDigitsField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Text,{label:getLabel(props.fieldName),value:props.metaFieldValue,id:props.id,onChange:function(content){props.setMetaFieldValue(content.replace(/[^0-9]+/g,""))}})})),MetaBlockFieldSelect=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Select,{label:getLabel(props.fieldName),value:props.metaFieldValue,options:props.optionArray,onChange:function(content){props.setMetaFieldValue(content)}})})),MetaBlockCheckboxField=compose(withDispatch((function(dispatch,props){return{setMetaFieldValue:function(value){dispatch("core/editor").editPost({meta:{[props.fieldName]:value}})}}})),withSelect((function(select,props){return{metaFieldValue:select("core/editor").getEditedPostAttribute("meta")[props.fieldName]}})))((function(props){return el(Checkbox,{label:getLabel(props.fieldName),checked:props.metaFieldValue,onChange:function(value){props.setMetaFieldValue(value)}})}));registerPlugin("invp-plugin-sidebar",{render:function(){var fields=el(wp.element.Fragment,{},el("h2",{},"Attributes"),el(MetaBlockField,{fieldName:invp.meta_prefix+"vin",id:invp.meta_prefix+"vin",isNumeric:!1}),el(MetaBlockField,{fieldName:invp.meta_prefix+"stock_number",id:invp.meta_prefix+"stock_number",isNumeric:!1}),el(MetaBlockField,{fieldName:invp.meta_prefix+"trim",id:invp.meta_prefix+"trim"}),el(MetaBlockField,{fieldName:invp.meta_prefix+"engine",id:invp.meta_prefix+"engine",isNumeric:!1}),el(MetaBlockField,{fieldName:invp.meta_prefix+"doors",id:invp.meta_prefix+"doors",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"color",id:invp.meta_prefix+"color",isNumeric:!1}),el(MetaBlockField,{fieldName:invp.meta_prefix+"interior_color",id:invp.meta_prefix+"interior_color",isNumeric:!1}),el(MetaBlockDigitsField,{fieldName:invp.meta_prefix+"odometer",id:invp.meta_prefix+"odometer",isNumeric:!1}),el(MetaBlockFieldSelect,{fieldName:invp.meta_prefix+"title_status",id:invp.meta_prefix+"title_status",isNumeric:!1,optionArray:titleStatusOptions()}),el(MetaBlockField,{fieldName:invp.meta_prefix+"car_id",id:invp.meta_prefix+"car_id",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"dealer_id",id:invp.meta_prefix+"dealer_id",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"leads_id",id:invp.meta_prefix+"leads_id",isNumeric:!0}),el(MetaBlockCheckboxField,{fieldName:invp.meta_prefix+"wholesale",id:invp.meta_prefix+"wholesale",isNumeric:!1}),el("h2",{},"Prices"),el(MetaBlockField,{fieldName:invp.meta_prefix+"price",id:invp.meta_prefix+"price",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"msrp",id:invp.meta_prefix+"msrp",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"down_payment",id:invp.meta_prefix+"down_payment",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"payment",id:invp.meta_prefix+"payment",isNumeric:!0}),el(MetaBlockFieldSelect,{fieldName:invp.meta_prefix+"payment_frequency",id:invp.meta_prefix+"payment_frequency",isNumeric:!1,optionArray:paymentFrequencyOptions()}),el(MetaBlockField,{fieldName:invp.meta_prefix+"book_value_kbb",id:invp.meta_prefix+"book_value_kbb",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"book_value_nada",id:invp.meta_prefix+"book_value_nada",isNumeric:!0}),el("h2",{},"Third Parties"),el(MetaBlockField,{fieldName:invp.meta_prefix+"edmunds_style_id",id:invp.meta_prefix+"edmunds_style_id",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"nextgear_inspection_url",id:invp.meta_prefix+"nextgear_inspection_url",isNumeric:!1}),el(MetaBlockField,{fieldName:invp.meta_prefix+"youtube",id:invp.meta_prefix+"youtube",isNumeric:!1}));const inventory_presser_type=wp.data.select("core/editor").getEditedPostAttribute("meta").inventory_presser_type;return"boat"===inventory_presser_type.toLowerCase()&&(fields=el(wp.element.Fragment,{},fields,el(wp.element.Fragment,{},el("h2",{},"Boat Attributes"),el(MetaBlockField,{fieldName:invp.meta_prefix+"beam",id:invp.meta_prefix+"beam",isNumeric:!0}),el(MetaBlockField,{fieldName:invp.meta_prefix+"length",id:invp.meta_prefix+"length",isNumeric:!0}),el(MetaBlockFieldSelect,{fieldName:invp.meta_prefix+"hull_material",id:invp.meta_prefix+"hull_material",isNumeric:!1,optionArray:hullMaterialOptions()})))),fields=wp.hooks.applyFilters("invp_editor_sidebar_elements",fields,inventory_presser_type),el(PluginSidebar,{name:"invp-plugin-sidebar",icon:"admin-network",title:"Inventory Presser"},el("div",{className:"invp-editor-sidebar"},fields))}})}(window.wp);